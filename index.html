<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>전소윤 ❤️ 이남구 모바일 청첩장</title>

  <!-- Open Graph / KakaoTalk preview (YOUR_ID / YOUR_REPO 교체) -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://2nam994.github.io/NG-SY_wedding-invite/">
  <meta property="og:title" content="전소윤 ❤️ 이남구 결혼합니다" />
  <meta property="og:description" content="2026년 1월 31일(토) 오후 2시, 부평교회" />
  <meta property="og:image" content="https://2nam994.github.io/NG-SY_wedding-invite/images/og-cover.jpg">
  <meta property="og:image" content="https://2nam994.github.io/NG-SY_wedding-invite/images/og-cover.jpg">
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="전소윤 ❤️ 이남구 결혼합니다" />
  <meta name="twitter:description" content="2026년 1월 31일(토) 오후 2시, 부평교회" />
  <meta name="twitter:image" content="https://2nam994.github.io/NG-SY_wedding-invite/images/og-cover.jpg">
  <meta name="format-detection" content="telephone=no" />

  <style>
    :root{--bg:#fafaf9;--card:#fff;--ink:#0f172a;--muted:#475569;--brand:#2dd4bf;--line:#e5e7eb;--shadow:0 10px 24px rgba(15,23,42,.06),0 2px 6px rgba(15,23,42,.05);--radius:18px}
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Apple SD Gothic Neo","Noto Sans KR",sans-serif;color:var(--ink);background:var(--bg)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .wrap{max-width:920px;margin:0 auto;padding:16px}

    /* HERO */
    .hero{position:relative;overflow:hidden;border-radius:calc(var(--radius) + 6px);box-shadow:var(--shadow)}
    .hero .cover{width:100%;height:auto;object-fit:contain;background:#f1f5f9;min-height:160px}
    .hero .overlay{position:absolute;inset:0;pointer-events:none;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,.35) 70%,rgba(0,0,0,.55) 100%)}
    .badge{position:absolute;top:16px;left:16px;background:rgba(255,255,255,.92);color:#0f172a;padding:10px 14px;border-radius:999px;font-weight:600;font-size:14px;box-shadow:var(--shadow)}

    /* COUNTDOWN */
    .countdown{display:flex;justify-content:center;gap:10px;margin-top:12px}
    .count{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:10px 14px;text-align:center;min-width:74px;box-shadow:var(--shadow)}
    .count b{font-size:20px;display:block}
    .count span{font-size:12px;color:var(--muted)}

    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow)}
    .grid{display:grid;gap:16px}
    @media(min-width:860px){.grid-2{grid-template-columns:1fr 1fr}}
    .section{margin:28px 0}
    .section h2{margin:0 0 12px;font-size:22px}
    .muted{color:var(--muted)}
    .list{display:grid;gap:8px;margin:12px 0 0}
    .list .row{display:flex;align-items:center;gap:10px}
    .list .key{min-width:84px;color:var(--muted)}

    /* 가운데 정렬 */
    .greeting{text-align:center}
    .greeting p{margin:0 0 10px}

    /* 지도 */
    .map{position:relative;overflow:hidden;border-radius:14px;border:1px solid var(--line)}
    .map::before{content:"";display:block;padding-top:66%}
    .map iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    /* 갤러리 슬라이더 (원본 비율 유지) */
    .slider{position:relative;overflow:hidden;border-radius:14px;border:1px solid var(--line);min-height:220px}
    .slides{display:flex;transition:transform .35s ease;will-change:transform}
    .slide{min-width:100%;user-select:none;display:flex;align-items:center;justify-content:center;background:#f8fafc}
    .slide img{width:auto;height:auto;max-width:100%;max-height:72vh;object-fit:contain;background:#f1f5f9}
    .nav{position:absolute;inset:0;pointer-events:none}
    .nav button{pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.55);color:#fff;border:none;width:42px;height:42px;border-radius:999px;display:grid;place-items:center;cursor:pointer}
    .nav .prev{left:10px}.nav .next{right:10px}
    .dots{display:flex;justify-content:center;gap:8px;margin-top:10px}
    .dots button{width:8px;height:8px;border-radius:999px;border:0;background:#cbd5e1;cursor:pointer}
    .dots button.active{background:#0f172a}

    .footer{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin:24px 0}
    .tiny{font-size:12px;color:var(--muted);text-align:center}
    .top{position:fixed;right:14px;bottom:14px;width:46px;height:46px;border-radius:999px;background:var(--brand);color:#fff;display:grid;place-items:center;font-weight:800;box-shadow:var(--shadow);cursor:pointer}

    /* 축하 연출 */
    #confetti{position:fixed;inset:0;pointer-events:none;z-index:60;display:none}
    .celebrate{position:fixed;inset:0;display:none;align-items:center;justify-content:center;text-align:center;z-index:70}
    .celebrate .box{background:rgba(255,255,255,.95);border:1px solid var(--line);border-radius:18px;box-shadow:var(--shadow);padding:24px;max-width:90%}
    .celebrate h3{margin:0 0 8px;font-size:24px}
    .celebrate p{margin:0 0 14px;color:var(--muted)}

    /* Naver App Button */
    .btn-naver{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 14px; border:none; border-radius:12px;
      background:#03C75A; color:#fff; cursor:pointer;
      box-shadow:var(--shadow); font-weight:700;
    }
    .btn-naver:hover{ filter:brightness(0.95); }
    .btn-naver:active{ transform:translateY(1px); }
    .btn-naver img{ width:20px; height:20px; display:block; }

    .info .list .row{display:flex;align-items:center;gap:10px}
    .info .list .key{flex:0 0 68px;min-width:68px}
    .info .list .row > div:last-child{
      flex:1 1 auto;min-width:0;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    @media (max-width:360px){
      .info .list .key{flex-basis:62px;min-width:62px}
    }
  </style>
</head>
<body>
  <header class="wrap">
    <div class="hero">
      <!-- 커버 이미지: 확장자 폴백 로딩 -->
      <img class="cover" id="cover-img" src="" data-base="./images/cover" alt="커버 이미지" />
      <div class="overlay" aria-hidden="true"></div>
      <div class="badge">모바일 청첩장</div>
      <!-- (요청) cover 내부 텍스트 제거 -->
    </div>
  </header>

  <main class="wrap">
    <!-- (요청) cover 아래, 카운트다운 위 안내 단락 -->
    <section class="section card greeting">
      <h2><strong>전소윤 ❤️ 이남구</strong><br />결혼합니다</h2>
      <p style="font-size:18px; line-height:1.7; margin:0;">
        2026년 1월 31일 토요일 오후 2시
      </p>
    </section>

    <!-- 카운트다운 -->
    <section class="countdown" aria-label="예식까지 남은 시간">
      <div class="count"><b id="dd">0</b><span>일</span></div>
      <div class="count"><b id="hh">0</b><span>시간</span></div>
      <div class="count"><b id="mm">0</b><span>분</span></div>
      <div class="count"><b id="ss">0</b><span>초</span></div>
    </section>

    <!-- 인사말 -->
    <section class="section card greeting">
      <h2>인사말</h2>
      <p class="muted">
        함께 맞이하는 여섯 번째 겨울, <br> 저희 두 사람이 믿음 안에서 하나 되어<br> 뜻깊은 예식을 드리려 합니다.<br>
        사랑과 믿음으로 같은 방향을 바라보며<br> 서로를 더욱 아끼고 섬기며 살아가겠습니다. 
      </p>
      <p class="muted">
        앞으로도 저희의 걸음을 위해<br> 따뜻한 축복과 기도를 부탁드립니다. 
      </p>
    </section>

     <!-- 예식 안내 / 오시는 길 -->
     <section class="section card greeting">
      <!-- ✅ info 클래스 추가 (글자 크기 축소 적용) -->
      <div class="card info">
        <h2>예식 안내</h2>
        <div class="list">
          <div class="row"><div class="key">일시</div><div id="info-date">2026.01.31(토) 오후 2시</div></div>
          <div class="row"><div class="key">장소</div><div id="info-place">부평교회 3층 본당</div></div>
          <div class="row"><div class="key">주소</div><div id="info-addr">인천 부평구 길주남로10번길 32</div></div>
          <p class="muted">
            본 예식은 혼인 예배로 드려집니다.<br>경건한 예배 진행을 위해 시작 10분 전 까지<br>착석 해주시길 부탁드립니다.😊
          </p>
        </div>
      </div>

      <div class="section card greeting">
        <h2>오시는 길</h2>
        <div class="map" style="margin-bottom:12px;">
          <!-- Google 지도 임베드 유지 -->
          <iframe id="map-frame" loading="lazy" allowfullscreen
            src="https://www.google.com/maps?q=%EC%9D%B8%EC%B2%9C%20%EB%B6%80%ED%8F%89%EA%B5%AC%20%EA%B8%B8%EC%A3%BC%EB%82%A8%EB%A1%9C10%EB%B2%88%EA%B8%B8%2032&output=embed">
          </iframe>
        </div>
        <!-- (요청) 네이버 앱으로 열기 버튼 -->
        <button class="btn-naver" id="btn-naver-app" aria-label="네이버 지도 앱으로 열기">
          <img src="./images/naver.png" alt="" aria-hidden="true">
          네이버 앱으로 열기
        </button>
      </div>
    </section>

    <!-- 갤러리 -->
    <section class="section card greeting">
      <h2>갤러리</h2>
      <div class="slider" id="slider">
        <div class="slides" id="slides"></div>
        <div class="nav"><button class="prev" id="prev" aria-label="이전">‹</button><button class="next" id="next" aria-label="다음">›</button></div>
      </div>
      <div class="dots" id="dots"></div>
      <!-- (요청) 큰 이미지 보기 제거 → 라이트박스 요소 없음 -->
    </section>

    <!-- 기타 안내 (갤러리 아래 추가) -->
    <section class="section card greeting">
      <h2>기타 안내</h2>
      <p class="muted">
        예배에 함께해주시고 <br>
        기도로 축복해주시는 것만으로도 <br>
        저희에게는 큰 감사와 기쁨이기에 <br>
        축의대는 따로 마련하지 않았습니다.
      </p>
      <p class="muted">
        그럼에도 마음을 나누고자 하시는 분들께서는 <br>
        신랑 또는 신부에게 직접 연락 부탁 드립니다.
      </p>
      <p class="muted" style="margin-top:8px">
        📞 신랑 이남구 <a href="tel:01096619418">010-9661-9418</a> <br>
        📞 신부 전소윤 <a href="tel:01073625263">010-7362-5263</a>
      </p>
    </section>
    
    <div class="footer tiny">
      <div>© 2026 소윤 & 남구 | 모바일 청첩장</div>
      <div style="margin-top:6px">링크가 열리지 않으면 크롬/사파리로 다시 시도해주세요.</div>
    </div>

    <canvas id="confetti"></canvas>
    <div class="celebrate" id="celebrate">
      <div class="box">
        <h3>오늘은 전소윤 ❤️ 이남구의 결혼식 날!</h3>
        <p>오후 2시, 부평교회에서 뵐게요. 축복해 주셔서 감사합니다 💐</p>
        <button class="btn-naver" id="celebrate-close" style="background:var(--brand);">닫기</button>
      </div>
    </div>
  </main>

  <button class="top" id="btn-top" aria-label="맨 위로">↑</button>

  <script>
    /* ==== 설정 ==== */
    // 오후 2시 KST == 05:00 UTC
    const when    = new Date(Date.UTC(2026, 0, 31, 5, 0, 0)); // 14:00 KST
    const whenEnd = new Date(Date.UTC(2026, 0, 31, 7, 0, 0)); // 16:00 KST

    // 커버 이미지 확장자 폴백
    const EXTS = ['jpg','jpeg','png','webp'];

    // 갤러리 파일(존재하는 파일명만 기재)
    const GALLERY_FILES = [
      './images/g-01.jpg','./images/g-02.jpg','./images/g-03.jpg',
      './images/g-04.jpg','./images/g-05.jpg','./images/g-06.jpg',
      './images/g-07.jpg','./images/g-08.jpg','./images/g-09.jpg'
    ];

    /* 텍스트 & 커버 로딩 */
    (function initTexts(){
      const kfmt = new Intl.DateTimeFormat('ko-KR', { dateStyle:'full', timeStyle:'short' });
      const whenText = document.getElementById('wedding-when');
      if(whenText) whenText.textContent = `${kfmt.format(when)}, 부평교회`;

      // 커버 이미지 폴백 로딩
      const cover = document.getElementById('cover-img');
      const base  = cover?.getAttribute('data-base'); // ./images/cover
      if(cover && base){
        let i=0;
        const tryNext=()=>{
          if(i>=EXTS.length){ cover.alt='이미지를 불러오지 못했습니다'; cover.style.opacity='0.3'; return; }
          cover.src = `${base}.${EXTS[i++]}`;
        };
        cover.onerror = tryNext;
        tryNext();
      }
    })();

    /* 갤러리(라이트박스 없음) */
    (function buildGallery(){
      const slides = document.getElementById('slides');
      const dots   = document.getElementById('dots');

      GALLERY_FILES.forEach((src,i)=>{
        const slide=document.createElement('div'); slide.className='slide';
        const img=document.createElement('img'); img.loading='lazy'; img.alt=`갤러리 이미지 ${i+1}`;
        img.src=src;
        img.onerror=()=>{
          const warn=document.createElement('div');
          warn.className='err';
          warn.innerHTML=`이미지를 불러오지 못했습니다.<br><small>${src}</small>`;
          img.replaceWith(warn);
        };
        // (요청) 클릭 시 확대 비활성 → 클릭 이벤트 없음
        slide.appendChild(img); slides.appendChild(slide);

        const dot=document.createElement('button');
        dot.addEventListener('click',()=>go(i)); dots.appendChild(dot);
      });

      let idx=0, N=GALLERY_FILES.length;
      function sync(){
        slides.style.transform=`translateX(-${idx*100}%)`;
        [...dots.children].forEach((d,k)=>d.classList.toggle('active',k===idx));
      }
      function go(n){ if(N===0) return; idx=(n+N)%N; sync(); }
      document.getElementById('prev').addEventListener('click',()=>go(idx-1));
      document.getElementById('next').addEventListener('click',()=>go(idx+1));

      // 터치 스와이프
      let sx=0, dx=0;
      slides.addEventListener('touchstart',e=>{ sx=e.touches[0].clientX; });
      slides.addEventListener('touchmove', e=>{ dx=e.touches[0].clientX - sx; });
      slides.addEventListener('touchend', ()=>{ if(Math.abs(dx)>50){ go(idx + (dx<0?1:-1)); } sx=dx=0; });

      if(N>0) sync(); else document.getElementById('slider').style.display='none';
    })();

    /* 카운트다운 & 축하 이펙트 */
    (function countdown(){
      const dd=document.getElementById('dd'), hh=document.getElementById('hh'), mm=document.getElementById('mm'), ss=document.getElementById('ss');
      let timer=null, fired=false;
      function tick(){
        const now=new Date();
        let diff=Math.floor((when - now)/1000);
        if(diff<=0){ diff=0; if(!fired){ fired=true; startCelebration(); } }
        const d=Math.floor(diff/86400); diff-=d*86400;
        const h=Math.floor(diff/3600);  diff-=h*3600;
        const m=Math.floor(diff/60);    diff-=m*60;
        const s=Math.floor(diff);
        dd.textContent=d; hh.textContent=h; mm.textContent=m; ss.textContent=s;
      }
      timer=setInterval(tick,1000); tick();

      function startCelebration(){
        clearInterval(timer);
        const pane=document.getElementById('celebrate'); pane.style.display='flex';
        document.getElementById('celebrate-close').onclick=()=>{ pane.style.display='none'; };
        confettiBurst();
      }
      function confettiBurst(){
        const cv=document.getElementById('confetti'); const ctx=cv.getContext('2d');
        let W=cv.width=innerWidth, H=cv.height=innerHeight; cv.style.display='block';
        addEventListener('resize',()=>{ W=cv.width=innerWidth; H=cv.height=innerHeight; });
        const colors=['#F87171','#FBBF24','#34D399','#60A5FA','#A78BFA','#F472B6'];
        const parts=Array.from({length:180},()=>({x:Math.random()*W,y:-20-Math.random()*H*.5,r:4+Math.random()*6,a:Math.random()*Math.PI*2,s:2+Math.random()*3,vy:2+Math.random()*2,c:colors[Math.floor(Math.random()*colors.length)],spin:(Math.random()*0.2)-0.1}));
        let start=null, D=7000;
        function step(ts){
          if(!start) start=ts; const t=ts-start; ctx.clearRect(0,0,W,H);
          parts.forEach(p=>{ p.x+=Math.cos(p.a)*p.s; p.y+=p.vy; p.a+=p.spin; p.vy+=0.02; ctx.globalAlpha=Math.max(0,1-t/D);
            ctx.fillStyle=p.c; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); });
          if(t<D) requestAnimationFrame(step); else { ctx.clearRect(0,0,W,H); cv.style.display='none'; }
        }
        requestAnimationFrame(step);
      }
    })();

    /* 네이버 앱으로 열기 & 맨 위로 */
    (function ui(){
      // 네이버 지도 앱 열기 → 실패 시 웹 폴백
      const addr = '인천 부평구 길주남로10번길 32';
      const enc  = encodeURIComponent(addr);
      const appUrl = `nmap://search?query=${enc}`;
      const webUrl = `https://map.naver.com/v5/search/${enc}`;
      document.getElementById('btn-naver-app').addEventListener('click', ()=>{
        const a = document.createElement('a');
        a.href = appUrl;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        setTimeout(()=>{ window.open(webUrl, '_blank'); }, 800);
      });

      document.getElementById('btn-top').addEventListener('click',()=>scrollTo({top:0,behavior:'smooth'}));
    })();
  </script>
</body>
</html>
