<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì†Œìœ¤ â¤ï¸ ë‚¨êµ¬ ëª¨ë°”ì¼ ì²­ì²©ì¥</title>
  <meta property="og:title" content="ì†Œìœ¤ â¤ï¸ ë‚¨êµ¬ ê²°í˜¼í•©ë‹ˆë‹¤" />
  <meta property="og:description" content="2026ë…„ 1ì›” 31ì¼(í† ) ì˜¤ì „ 11ì‹œ, ë¶€í‰êµíšŒ" />
  <meta property="og:image" content="./images/og-cover.jpg" />
  <meta property="og:type" content="website" />
  <meta name="format-detection" content="telephone=no" />
  <style>
    :root{--bg:#fafaf9;--card:#fff;--ink:#0f172a;--muted:#475569;--brand:#2dd4bf;--line:#e5e7eb;--shadow:0 10px 24px rgba(15,23,42,.06),0 2px 6px rgba(15,23,42,.05);--radius:18px}
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Apple SD Gothic Neo","Noto Sans KR",sans-serif;color:var(--ink);background:var(--bg)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .wrap{max-width:920px;margin:0 auto;padding:16px}

    /* HERO (ì›ë³¸ ë¹„ìœ¨ ìœ ì§€) */
    .hero{position:relative;overflow:hidden;border-radius:calc(var(--radius) + 6px);box-shadow:var(--shadow)}
    .hero .cover{width:100%;height:auto;object-fit:contain;background:#f1f5f9}
    .hero .overlay{position:absolute;inset:0;pointer-events:none;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,.35) 70%,rgba(0,0,0,.55) 100%)}
    .hero .title{position:absolute;left:0;right:0;bottom:0;padding:28px 22px;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.25)}
    .title h1{margin:0 0 6px;font-weight:700;letter-spacing:.2px;font-size:clamp(22px,4.5vw,36px)}
    .title p{margin:0;opacity:.95;font-size:clamp(14px,2.4vw,16px)}
    .badge{position:absolute;top:16px;left:16px;background:rgba(255,255,255,.92);color:#0f172a;padding:10px 14px;border-radius:999px;font-weight:600;font-size:14px;box-shadow:var(--shadow)}

    /* COUNTDOWN */
    .countdown{display:flex;justify-content:center;gap:10px;margin-top:12px}
    .count{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:10px 14px;text-align:center;min-width:74px;box-shadow:var(--shadow)}
    .count b{font-size:20px;display:block}
    .count span{font-size:12px;color:var(--muted)}

    /* ì¹´ë“œ/ê·¸ë¦¬ë“œ */
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow)}
    .grid{display:grid;gap:16px}
    @media(min-width:860px){.grid-2{grid-template-columns:1fr 1fr}}
    .section{margin:28px 0}
    .section h2{margin:0 0 12px;font-size:22px}
    .muted{color:var(--muted)}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border-radius:12px;border:1px solid var(--line);background:var(--card);cursor:pointer;font-weight:600}
    .btn.brand{background:var(--brand);color:#fff;border:none}
    .btn.ghost{background:#f8fafc}
    .btn + .btn{margin-left:8px}
    .list{display:grid;gap:8px;margin:12px 0 0}
    .list .row{display:flex;align-items:center;gap:10px}
    .list .key{min-width:84px;color:var(--muted)}

    /* ì¸ì‚¬ë§(ê°€ìš´ë° ì •ë ¬) */
    .greeting{ text-align:center; }
    .greeting p{ margin:0 0 10px; }

    /* ì§€ë„ */
    .map{position:relative;overflow:hidden;border-radius:14px;border:1px solid var(--line)}
    .map::before{content:"";display:block;padding-top:66%}
    .map iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    /* SLIDER (ì›ë³¸ ë¹„ìœ¨ ìœ ì§€) */
    .slider{position:relative;overflow:hidden;border-radius:14px;border:1px solid var(--line);min-height:220px}
    .slides{display:flex;transition:transform .35s ease;will-change:transform}
    .slide{min-width:100%;user-select:none;display:flex;align-items:center;justify-content:center;background:#f8fafc}
    .slide img{width:auto;height:auto;max-width:100%;max-height:72vh;object-fit:contain;background:#f1f5f9}
    .nav{position:absolute;inset:0;pointer-events:none}
    .nav button{pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.55);color:#fff;border:none;width:42px;height:42px;border-radius:999px;display:grid;place-items:center;cursor:pointer}
    .nav .prev{left:10px}.nav .next{right:10px}
    .dots{display:flex;justify-content:center;gap:8px;margin-top:10px}
    .dots button{width:8px;height:8px;border-radius:999px;border:0;background:#cbd5e1;cursor:pointer}
    .dots button.active{background:#0f172a}

    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:40}
    .lightbox.open{display:flex}
    .lightbox img{max-width:94%;max-height:90vh;border-radius:12px;background:#111}

    .tabs{display:flex;gap:8px;margin-bottom:12px}
    .tab{padding:10px 14px;border-radius:999px;border:1px solid var(--line);cursor:pointer;font-weight:600}
    .tab.active{background:var(--brand);color:#fff;border-color:transparent}
    .acc{display:none}.acc.active{display:block}

    .footer{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin:24px 0}
    .tiny{font-size:12px;color:var(--muted);text-align:center}
    .top{position:fixed;right:14px;bottom:14px;width:46px;height:46px;border-radius:999px;background:var(--brand);color:#fff;display:grid;place-items:center;font-weight:800;box-shadow:var(--shadow);cursor:pointer}

    /* ì¶•í•˜ ì—°ì¶œ */
    #confetti{position:fixed;inset:0;pointer-events:none;z-index:60;display:none}
    .celebrate{position:fixed;inset:0;display:none;align-items:center;justify-content:center;text-align:center;z-index:70}
    .celebrate .box{background:rgba(255,255,255,.95);border:1px solid var(--line);border-radius:18px;box-shadow:var(--shadow);padding:24px;max-width:90%}
    .celebrate h3{margin:0 0 8px;font-size:24px}
    .celebrate p{margin:0 0 14px;color:var(--muted)}
    .celebrate .btn{font-size:16px}

    .err{padding:12px;border:1px solid #fecaca;border-radius:12px;background:#fff1f2;color:#b91c1c}
  </style>
</head>
<body>
  <header class="wrap">
    <div class="hero">
      <img class="cover" id="cover-img" src="./images/cover.jpg" alt="ì»¤ë²„ ì´ë¯¸ì§€" />
      <div class="overlay" aria-hidden="true"></div>
      <div class="badge">ëª¨ë°”ì¼ ì²­ì²©ì¥</div>
      <div class="title">
        <h1>ì†Œìœ¤ & ë‚¨êµ¬ ê²°í˜¼í•©ë‹ˆë‹¤</h1>
        <p id="wedding-when">2026ë…„ 1ì›” 31ì¼(í† ) ì˜¤ì „ 11ì‹œ, ë¶€í‰êµíšŒ</p>
      </div>
    </div>
  </header>

  <main class="wrap">
    <!-- ì¹´ìš´íŠ¸ë‹¤ìš´ -->
    <section class="countdown" aria-label="ì˜ˆì‹ê¹Œì§€ ë‚¨ì€ ì‹œê°„">
      <div class="count"><b id="dd">0</b><span>ì¼</span></div>
      <div class="count"><b id="hh">0</b><span>ì‹œê°„</span></div>
      <div class="count"><b id="mm">0</b><span>ë¶„</span></div>
      <div class="count"><b id="ss">0</b><span>ì´ˆ</span></div>
    </section>

    <!-- ì¸ì‚¬ë§ (ê°€ìš´ë° ì •ë ¬, ë”ë³´ê¸° ì œê±°) -->
    <section class="section card greeting">
      <h2>ì¸ì‚¬ë§</h2>
      <p class="muted">
        í•¨ê»˜ ë§ì´í•˜ëŠ” ì—¬ì„¯ ë²ˆì§¸ ê²¨ìš¸, ì €í¬ ë‘ ì‚¬ëŒì´ ë¯¿ìŒ ì•ˆì—ì„œ í•˜ë‚˜ ë˜ì–´ ì‘ì§€ë§Œ ëœ»ê¹Šì€ ì˜ˆì‹ì„ ë“œë¦¬ë ¤ í•©ë‹ˆë‹¤.<br>
        ì‚¬ë‘ê³¼ ë¯¿ìŒìœ¼ë¡œ ê°™ì€ ë°©í–¥ì„ ë°”ë¼ë³´ë©° ì„œë¡œë¥¼ ë”ìš± ì‚¬ë‘í•˜ê³  ì„¬ê¸°ë©° ì‚´ì•„ê°€ê² ìŠµë‹ˆë‹¤. <br>ì¶•ë³µí•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.
      </p>
      <p class="muted">
        ê³ ë§ˆìš´ ë°œê±¸ìŒ ë•ë¶„ì— ì €í¬ ê²°í˜¼ì‹ì´ ë” ë”°ëœ»í•´ì§‘ë‹ˆë‹¤. ë°”ì˜ì‹œê² ì§€ë§Œ í¸í•œ ë§ˆìŒìœ¼ë¡œ ì¶•í•˜í•´ ì£¼ì„¸ìš”. ğŸ™
      </p>
    </section>

    <!-- ì˜ˆì‹ ì•ˆë‚´ / ì˜¤ì‹œëŠ” ê¸¸ -->
    <section class="section grid grid-2">
      <div class="card">
        <h2>ì˜ˆì‹ ì•ˆë‚´</h2>
        <div class="list">
          <div class="row"><div class="key">ì¼ì‹œ</div><div id="info-date">2026.01.31(í† ) 11:00</div></div>
          <div class="row"><div class="key">ì¥ì†Œ</div><div id="info-place">ë¶€í‰êµíšŒ</div></div>
          <div class="row"><div class="key">ì£¼ì†Œ</div><div id="info-addr">ì¸ì²œ ë¶€í‰êµ¬ ê¸¸ì£¼ë‚¨ë¡œ10ë²ˆê¸¸ 32</div></div>
        </div>
        <div style="margin-top:14px">
          <button class="btn brand" id="btn-ics">ìº˜ë¦°ë”ì— ì¶”ê°€</button>
          <a class="btn" id="btn-navi" href="https://map.naver.com/v5/search/%EB%B6%80%ED%8F%89%EA%B5%90%ED%9A%8C" target="_blank" rel="noreferrer">ë„¤ë¹„ ì—´ê¸°</a>
        </div>
      </div>
      <div class="card">
        <h2>ì˜¤ì‹œëŠ” ê¸¸</h2>
        <div class="map">
          <iframe id="map-frame" loading="lazy" allowfullscreen src="https://www.google.com/maps?q=%EC%9D%B8%EC%B2%9C%20%EB%B6%80%ED%8F%89%EA%B5%AC%20%EA%B8%B8%EC%A3%BC%EB%82%A8%EB%A1%9C10%EB%B2%88%EA%B8%B8%2032&output=embed"></iframe>
        </div>
        <div style="display:flex; gap:8px; margin-top:12px">
          <a class="btn ghost" id="btn-map-naver" target="_blank" href="https://map.naver.com/v5/search/%EC%9D%B8%EC%B2%9C%20%EB%B6%80%ED%8F%89%EA%B5%AC%20%EA%B8%B8%EC%A3%BC%EB%82%A8%EB%A1%9C10%EB%B2%88%EA%B8%B8%2032">ë„¤ì´ë²„ì§€ë„</a>
          <a class="btn ghost" id="btn-map-kakao" target="_blank" href="https://map.kakao.com/?q=%EC%9D%B8%EC%B2%9C%20%EB%B6%80%ED%8F%89%EA%B5%AC%20%EA%B8%B8%EC%A3%BC%EB%82%A8%EB%A1%9C10%EB%B2%88%EA%B8%B8%2032">ì¹´ì¹´ì˜¤ë§µ</a>
          <a class="btn ghost" id="btn-map-google" target="_blank" href="https://maps.google.com/?q=%EC%9D%B8%EC%B2%9C%20%EB%B6%80%ED%8F%89%EA%B5%AC%20%EA%B8%B8%EC%A3%BC%EB%82%A8%EB%A1%9C10%EB%B2%88%EA%B8%B8%2032">êµ¬ê¸€ì§€ë„</a>
        </div>
      </div>
    </section>

    <!-- ê°¤ëŸ¬ë¦¬ -->
    <section class="section card">
      <h2>ê°¤ëŸ¬ë¦¬</h2>
      <div class="slider" id="slider">
        <div class="slides" id="slides"></div>
        <div class="nav"><button class="prev" id="prev" aria-label="ì´ì „">â€¹</button><button class="next" id="next" aria-label="ë‹¤ìŒ">â€º</button></div>
      </div>
      <div class="dots" id="dots"></div>
      <div class="lightbox" id="lightbox" role="dialog" aria-modal="true"><img alt="í™•ëŒ€ ì´ë¯¸ì§€" /></div>
    </section>

    <!-- ì°¸ì„/ê³„ì¢Œ/ê³µìœ  -->
    <section class="section card">
      <h2>ì°¸ì„ ì—¬ë¶€</h2>
      <p class="muted">ì°¸ì„ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ì¢Œì„/ì‹ì‚¬ ì¤€ë¹„ì— í° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>
      <a class="btn brand" target="_blank" href="https://forms.gle/your-form-id">RSVP ì‘ì„±í•˜ê¸°</a>
    </section>

    <section class="section card">
      <h2>ë§ˆìŒ ì „í•˜ì‹¤ ê³³</h2>
      <div class="tabs">
        <button class="tab active" data-tab="groom">ì‹ ë‘ì¸¡</button>
        <button class="tab" data-tab="bride">ì‹ ë¶€ì¸¡</button>
      </div>
      <div id="groom" class="acc active">
        <div class="list">
          <div class="row"><div class="key">ì˜ˆê¸ˆì£¼</div><div>ì´ë‚¨êµ¬</div></div>
          <div class="row"><div class="key">ì€í–‰</div><div>ì¹´ì¹´ì˜¤ë±…í¬</div></div>
          <div class="row"><div class="key">ê³„ì¢Œ</div><div><code id="acc-groom">3333-20-0667933</code> <button class="btn" data-copy="acc-groom">ë³µì‚¬</button></div></div>
        </div>
      </div>
      <div id="bride" class="acc">
        <div class="list">
          <div class="row"><div class="key">ì˜ˆê¸ˆì£¼</div><div>ì „ì†Œìœ¤</div></div>
          <div class="row"><div class="key">ì€í–‰</div><div>êµ­ë¯¼</div></div>
          <div class="row"><div class="key">ê³„ì¢Œ</div><div><code id="acc-bride">123456-01-987654</code> <button class="btn" data-copy="acc-bride">ë³µì‚¬</button></div></div>
        </div>
      </div>
      <p class="tiny" style="margin-top:10px">ì¶•ì˜ê¸ˆì€ ê°ì‚¬í•œ ë§ˆìŒìœ¼ë¡œë§Œ ë°›ê² ìŠµë‹ˆë‹¤. ë¶€ë‹´ ê°–ì§€ ë§ˆì„¸ìš”. ğŸ™</p>
    </section>

    <section class="section card">
      <h2>ê³µìœ í•˜ê¸° & ì—°ë½</h2>
      <div style="display:flex; flex-wrap:wrap; gap:8px">
        <button class="btn" id="btn-share">ë§í¬ ê³µìœ </button>
        <button class="btn" id="btn-copy-link">ë§í¬ ë³µì‚¬</button>
        <a class="btn ghost" href="tel:010-1234-5678">ì‹ ë‘ì—ê²Œ ì „í™”</a>
        <a class="btn ghost" href="tel:010-9876-5432">ì‹ ë¶€ì—ê²Œ ì „í™”</a>
      </div>
    </section>

    <div class="footer tiny">
      <div>Â© 2026 ì†Œìœ¤ & ë‚¨êµ¬ | ëª¨ë°”ì¼ ì²­ì²©ì¥</div>
      <div style="margin-top:6px">ë§í¬ê°€ ì—´ë¦¬ì§€ ì•Šìœ¼ë©´ í¬ë¡¬/ì‚¬íŒŒë¦¬ë¡œ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</div>
    </div>

    <canvas id="confetti"></canvas>
    <div class="celebrate" id="celebrate">
      <div class="box">
        <h3>ì˜¤ëŠ˜ì€ ì†Œìœ¤ â¤ï¸ ë‚¨êµ¬ì˜ ê²°í˜¼ì‹ ë‚ !</h3>
        <p>ì˜¤ì „ 11ì‹œ, ë¶€í‰êµíšŒì—ì„œ ëµê²Œìš”. ì¶•ë³µí•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ’</p>
        <button class="btn brand" id="celebrate-close">ë‹«ê¸°</button>
      </div>
    </div>
  </main>

  <button class="top" id="btn-top" aria-label="ë§¨ ìœ„ë¡œ">â†‘</button>

  <script>
    /* ============== ê°¤ëŸ¬ë¦¬ íŒŒì¼ëª… (15ì¥) ==============
       /images í´ë”ì— gallery-01 ~ gallery-15ë¥¼ ë„£ìœ¼ì„¸ìš”.
       í™•ì¥ìëŠ” jpg/jpeg/png/webp ì•„ë¬´ê±°ë‚˜ ê°€ëŠ¥ (ìë™ íƒìƒ‰). */
    const GALLERY_BASENAMES = Array.from({length:15}, (_,i)=>`g-${String(i+1).padStart(2,'0')}`);
    const COVER_SRC = './images/cover.jpg';

    /* ========= ì¼ì •(íŒŒì‹± ì—†ì´ ì•ˆì „í•˜ê²Œ) ========= */
    const when    = new Date(Date.UTC(2026, 0, 31, 2, 0, 0)); // 11:00 KST
    const whenEnd = new Date(Date.UTC(2026, 0, 31, 4, 0, 0));
    const WEDDING = {
      title: 'ì†Œìœ¤ â¤ï¸ ë‚¨êµ¬ ê²°í˜¼ì‹',
      place: 'ë¶€í‰êµíšŒ',
      address: 'ì¸ì²œ ë¶€í‰êµ¬ ê¸¸ì£¼ë‚¨ë¡œ10ë²ˆê¸¸ 32',
      link: location.href
    };

    // í…ìŠ¤íŠ¸ ë°”ì¸ë”©
    (function initTexts(){
      const kfmt = new Intl.DateTimeFormat('ko-KR', { dateStyle:'full', timeStyle:'short' });
      document.getElementById('wedding-when').textContent = `${kfmt.format(when)}, ${WEDDING.place}`;
      document.getElementById('info-date').textContent =
        `${when.getFullYear()}.${String(when.getMonth()+1).padStart(2,'0')}.${String(when.getDate()).padStart(2,'0')}`+
        `(${['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '][when.getDay()]}) ${String(when.getHours()).padStart(2,'0')}:${String(when.getMinutes()).padStart(2,'0')}`;
      document.getElementById('info-place').textContent = WEDDING.place;
      document.getElementById('info-addr').textContent  = WEDDING.address;

      const addrEnc = encodeURIComponent(WEDDING.address);
      const navi = document.getElementById('btn-navi'); if(navi) navi.href = `https://map.naver.com/v5/search/${addrEnc}`;
      const btnN = document.getElementById('btn-map-naver'); if(btnN) btnN.href = `https://map.naver.com/v5/search/${addrEnc}`;
      const btnK = document.getElementById('btn-map-kakao'); if(btnK) btnK.href = `https://map.kakao.com/?q=${addrEnc}`;
      const btnG = document.getElementById('btn-map-google'); if(btnG) btnG.href = `https://maps.google.com/?q=${addrEnc}`;

      document.getElementById('cover-img').src = COVER_SRC;
    })();

    // í™•ì¥ì ìë™ í´ë°± ë¡œë” (jpg â†’ jpeg â†’ png â†’ webp)
    const EXTS = ['jpg','jpeg','png','webp'];
    function loadWithFallback(imgEl, basePath){
      let k = 0;
      function tryNext(){
        if(k >= EXTS.length){
          const warn = document.createElement('div');
          warn.className='err';
          warn.innerHTML = `ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.<br><small>${basePath}.(jpg|jpeg|png|webp) íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.</small>`;
          imgEl.replaceWith(warn);
          return;
        }
        imgEl.src = `${basePath}.${EXTS[k++]}`;
      }
      imgEl.onerror = tryNext;
      tryNext();
    }

    // ê°¤ëŸ¬ë¦¬ êµ¬ì„± (15ì¥, ì›ë³¸ ë¹„ìœ¨ ìœ ì§€)
    (function buildGallery(){
      const slides = document.getElementById('slides');
      const dots   = document.getElementById('dots');
      const lightbox = document.getElementById('lightbox');
      const lbImg = lightbox.querySelector('img');

      GALLERY_BASENAMES.forEach((base,i)=>{
        const slide = document.createElement('div'); slide.className='slide';
        const img = document.createElement('img'); img.loading='lazy'; img.alt=`ê°¤ëŸ¬ë¦¬ ì´ë¯¸ì§€ ${i+1}`;
        loadWithFallback(img, `./images/${base}`);
        img.addEventListener('click', ()=>{ if(img.src){ lbImg.src = img.src; lightbox.classList.add('open'); }});
        slide.appendChild(img); slides.appendChild(slide);
        const d = document.createElement('button'); d.addEventListener('click', ()=> go(i)); dots.appendChild(d);
      });

      let idx=0, N=GALLERY_BASENAMES.length;
      function sync(){ slides.style.transform = `translateX(-${idx*100}%)`; [...dots.children].forEach((d,k)=> d.classList.toggle('active', k===idx)); }
      function go(n){ if(N===0) return; idx=(n+N)%N; sync(); }
      document.getElementById('prev').addEventListener('click', ()=> go(idx-1));
      document.getElementById('next').addEventListener('click', ()=> go(idx+1));
      let sx=0, dx=0; slides.addEventListener('touchstart', e=>{ sx=e.touches[0].clientX; });
      slides.addEventListener('touchmove',  e=>{ dx=e.touches[0].clientX - sx; });
      slides.addEventListener('touchend',   ()=>{ if(Math.abs(dx)>50){ go(idx + (dx<0?1:-1)); } sx=dx=0; });
      lightbox.addEventListener('click', ()=> lightbox.classList.remove('open'));
      if(N>0) sync(); else document.getElementById('slider').style.display='none';
    })();

    // ì¹´ìš´íŠ¸ë‹¤ìš´ + ì¶•í•˜ ì—°ì¶œ
    (function countdown(){
      const dd=document.getElementById('dd'), hh=document.getElementById('hh'), mm=document.getElementById('mm'), ss=document.getElementById('ss');
      let timer=null, fired=false;
      function tick(){
        const now = new Date();
        let diff = Math.floor((when - now)/1000);
        if(diff<=0){ diff=0; if(!fired){ fired=true; startCelebration(); } }
        const d=Math.floor(diff/86400); diff-=d*86400;
        const h=Math.floor(diff/3600);  diff-=h*3600;
        const m=Math.floor(diff/60);    diff-=m*60;
        const s=Math.floor(diff);
        dd.textContent=d; hh.textContent=h; mm.textContent=m; ss.textContent=s;
      }
      timer=setInterval(tick,1000); tick();

      function startCelebration(){
        clearInterval(timer);
        const pane=document.getElementById('celebrate'); pane.style.display='flex';
        document.getElementById('celebrate-close').onclick=()=>{ pane.style.display='none'; };
        confettiBurst();
      }
      function confettiBurst(){
        const cv=document.getElementById('confetti'); const ctx=cv.getContext('2d');
        let W=cv.width=innerWidth, H=cv.height=innerHeight; cv.style.display='block';
        addEventListener('resize', ()=>{ W=cv.width=innerWidth; H=cv.height=innerHeight; });
        const colors=['#F87171','#FBBF24','#34D399','#60A5FA','#A78BFA','#F472B6'];
        const parts=Array.from({length:180},()=>({x:Math.random()*W,y:-20-Math.random()*H*.5,r:4+Math.random()*6,a:Math.random()*Math.PI*2,s:2+Math.random()*3,vy:2+Math.random()*2,c:colors[Math.floor(Math.random()*colors.length)],spin:(Math.random()*0.2)-0.1}));
        let start=null, D=7000;
        function step(ts){ if(!start) start=ts; const t=ts-start; ctx.clearRect(0,0,W,H);
          parts.forEach(p=>{ p.x+=Math.cos(p.a)*p.s; p.y+=p.vy; p.a+=p.spin; p.vy+=0.02; ctx.globalAlpha=Math.max(0,1-t/D); ctx.fillStyle=p.c; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); });
          if(t<D) requestAnimationFrame(step); else { ctx.clearRect(0,0,W,H); cv.style.display='none'; }
        }
        requestAnimationFrame(step);
      }
    })();

    // ê³µìœ /ë³µì‚¬/íƒ­/ICS
    (function ui(){
      const SHARE_FALLBACK_MSG='ì´ ë¸Œë¼ìš°ì €ëŠ” ê³µìœ  ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nâ–¶ "ë§í¬ ë³µì‚¬" ë²„íŠ¼ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.';
      document.querySelectorAll('.tab').forEach(t=>t.addEventListener('click',()=>{
        document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));
        document.querySelectorAll('.acc').forEach(x=>x.classList.remove('active'));
        t.classList.add('active'); document.getElementById(t.dataset.tab).classList.add('active');
      }));
      document.querySelectorAll('[data-copy]').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const id=btn.getAttribute('data-copy'); const txt=document.getElementById(id).textContent.trim();
          navigator.clipboard.writeText(txt).then(()=>{ btn.textContent='ë³µì‚¬ë¨'; setTimeout(()=>btn.textContent='ë³µì‚¬',1500); });
        });
      });
      const copyBtn=document.getElementById('btn-copy-link');
      copyBtn.addEventListener('click',()=>{ navigator.clipboard.writeText(location.href).then(()=>{ copyBtn.textContent='ë³µì‚¬ë¨'; setTimeout(()=>copyBtn.textContent='ë§í¬ ë³µì‚¬',1200); }); });
      document.getElementById('btn-share').addEventListener('click',async()=>{
        const share={title:WEDDING.title,text:'ì´ˆëŒ€í•©ë‹ˆë‹¤ ğŸ’',url:location.href}; if(navigator.share){ try{ await navigator.share(share);}catch(e){} } else { alert(SHARE_FALLBACK_MSG); }
      });
      document.getElementById('btn-top').addEventListener('click',()=>scrollTo({top:0,behavior:'smooth'}));

      function toICSDate(d){ return new Date(d).toISOString().replace(/[-:]/g,'').split('.')[0]+'Z'; }
      function buildICS(){
        return [
          'BEGIN:VCALENDAR','VERSION:2.0','PRODID:-//Mobile Invitation//KR','BEGIN:VEVENT',
          `UID:${Date.now()}@mobile-invite`,
          `DTSTAMP:${toICSDate(Date.now())}`,
          `DTSTART:${toICSDate(when)}`,
          `DTEND:${toICSDate(whenEnd)}`,
          `SUMMARY:${'ì†Œìœ¤ â¤ï¸ ë‚¨êµ¬ ê²°í˜¼ì‹'}`,
          `LOCATION:${'ë¶€í‰êµíšŒ'} ${'ì¸ì²œ ë¶€í‰êµ¬ ê¸¸ì£¼ë‚¨ë¡œ10ë²ˆê¸¸ 32'}`,
          `DESCRIPTION:ëª¨ë°”ì¼ ì²­ì²©ì¥: ${location.href}`,
          'END:VEVENT','END:VCALENDAR'
        ].join('\r\n');
      }
      document.getElementById('btn-ics').addEventListener('click',()=>{
        const ics=buildICS(); const blob=new Blob([ics],{type:'text/calendar'}); const url=URL.createObjectURL(blob);
        const a=document.createElement('a'); a.href=url; a.download='wedding.ics'; a.click(); URL.revokeObjectURL(url);
      });
    })();
  </script>
</body>
</html>
